function e(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}var t,n,o,i;!function(e){e[e.StandardCoordinates=0]="StandardCoordinates",e[e.FourCoordinates=1]="FourCoordinates"}(i||(i={}));class a{constructor(i,a){var r,s,c;t.add(this),n.set(this,void 0),console.log("ü§° ~~ options",a),this.options=a,this.id=i,e(this,n,"f"),this.options.lineHeight=null!==(r=this.options.lineHeight)&&void 0!==r?r:2,this.options.color=null!==(s=this.options.color)&&void 0!==s?s:"#000",this.options.algWidthAndHeight=null!==(c=this.options.algWidthAndHeight)&&void 0!==c?c:[1920,1080],e(this,t,"m",o).call(this)}setServiceData(t){t.length&&(this.remove(),t.forEach((t=>{var o,i,a;if(e(this,n,"f").strokeStyle=null!==(o=t.color)&&void 0!==o?o:this.options.color,e(this,n,"f").lineWidth=null!==(i=t.lineHeight)&&void 0!==i?i:this.options.lineHeight,!t.serviceData||4!=t.serviceData.length)return void console.warn("ÂøÖÈ°ª‰º†ÂÖ•x,y,width,heightËøôÁßçÊ†ºÂºèÂì¶!");const[r,s,c,d]=t.serviceData;null===(a=e(this,n,"f"))||void 0===a||a.strokeRect(r,s,c,d)})))}computeRationCoord(e,t=i.StandardCoordinates){let n=[];switch(console.log("ü§° ÂùêÊ†áÊï∞ÊçÆÁ±ªÂûãÊòØ",t),t){case i.FourCoordinates:if(!e.length)return;const[t,o,a,r]=e;console.log("ü§° ~~ serviceData",e),n=[t[0],t[1],r[0]-t[0],o[1]-t[1]],console.log("ü§° ~~ handleData",n);break;case i.StandardCoordinates:n=e}return function(e,t,n){const[o,i]=t,[a,r]=n,[s,c]=[a/o,r/i],[d,l,h,p]=e;return[d*s,l*c,h*s,p*c]}(n,this.options.algWidthAndHeight,[this.options.width,this.options.height])}remove(){const{width:t,height:o}=this.options;e(this,n,"f").clearRect(0,0,t,o)}}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n=new WeakMap,t=new WeakSet,o=function(){var e,t;console.log("initÂàùÂßãÂåñ");const o=document.getElementById(this.id);console.log("ü§° ~~ el",o);const{offsetWidth:i,offsetHeight:a}=o,r=document.createElement("canvas");o.appendChild(r),(null===(e=this.options)||void 0===e?void 0:e.width)&&(null===(t=this.options)||void 0===t?void 0:t.height)?(r.width=this.options.width,r.height=this.options.height):(r.width=i,r.height=a),this.options.width=r.width,this.options.height=r.height,function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===o?i.call(e,n):i?i.value=n:t.set(e,n)}(this,n,r.getContext("2d"),"f"),this.setServiceData(this.options.rectData)};var d={name:"DrawGraph",props:{listData:Array,algWidthAndHeight:{type:Array,default:function(){return[1920,1080]}},serviceDataType:{type:Number,default:0},color:{type:String,default:"red"}},data:function(){return{instance:""}},watch:{listData:{handler:function(e,t){var n=this;console.log("ü§° ~~ v",e);var o=e.map((function(e){return s(s({},e),{},{serviceData:n.instance.computeRationCoord(e.serviceData,n.serviceDataType)})}));console.log("ü§° ~~ serviceData",o),this.instance.setServiceData(o)}}},mounted:function(){console.log("canvasÂàùÂßãÂåñ"),this.instance=new a("drawGrpahBox",{algWidthAndHeight:this.algWidthAndHeight,color:this.color,rectData:[]})}};function l(e,t,n,o,i,a,r,s,c,d){"boolean"!=typeof r&&(c=s,s=r,r=!1);const l="function"==typeof n?n.options:n;let h;if(e&&e.render&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,i&&(l.functional=!0)),o&&(l._scopeId=o),a?(h=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,c(e)),e&&e._registeredComponents&&e._registeredComponents.add(a)},l._ssrRegister=h):t&&(h=r?function(e){t.call(this,d(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),h)if(l.functional){const e=l.render;l.render=function(t,n){return h.call(n),e(t,n)}}else{const e=l.beforeCreate;l.beforeCreate=e?[].concat(e,h):[h]}return n}const h="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function p(e){return(e,t)=>function(e,t){const n=h?t.media||"default":e,o=f[n]||(f[n]={ids:new Set,styles:[]});if(!o.ids.has(e)){o.ids.add(e);let n=t.source;if(t.map&&(n+="\n/*# sourceURL="+t.map.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),o.element||(o.element=document.createElement("style"),o.element.type="text/css",t.media&&o.element.setAttribute("media",t.media),void 0===u&&(u=document.head||document.getElementsByTagName("head")[0]),u.appendChild(o.element)),"styleSheet"in o.element)o.styles.push(n),o.element.styleSheet.cssText=o.styles.filter(Boolean).join("\n");else{const e=o.ids.size-1,t=document.createTextNode(n),i=o.element.childNodes;i[e]&&o.element.removeChild(i[e]),i.length?o.element.insertBefore(t,i[e]):o.element.appendChild(t)}}}(e,t)}let u;const f={};const v=d;var g=function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"drawGrpahBox"}})};g._withStripped=!0;const m=l({render:g,staticRenderFns:[]},(function(e){e&&e("data-v-668b533e_0",{source:"\n#drawGrpahBox[data-v-668b533e]{\n    width: 100%;\n    height: 100%;\n    position: absolute;\n  top: 0;\n  left: 0;\n}\n",map:{version:3,sources:["X:\\‰∏™‰∫∫\\canvas_draw_rect-page\\component\\drawGraph\\drawGraph.vue"],names:[],mappings:";AA2DA;IACA,WAAA;IACA,YAAA;IACA,kBAAA;EACA,MAAA;EACA,OAAA;AACA",file:"drawGraph.vue",sourcesContent:["<template>\n    <div id=\"drawGrpahBox\">\n    </div>\n</template>\n\n<script>\nimport CanvasDraw from '../../src/draw'\n\n    export default {\n        name:'DrawGraph',\n        props:{\n            listData:Array,\n            algWidthAndHeight:{\n                type:Array,\n                default:()=>{\n                    return [1920,1080]\n                }\n            },\n            serviceDataType:{\n                type:Number,\n                default:0\n            },\n            color:{\n                type:String,\n                default:'red'\n            }\n\n        },\n        data(){\n            return {\n                instance:''\n            }\n        },\n        watch:{\n            listData:{\n                handler:function(v,oldv){\n                    console.log('ü§° ~~ v', v)\n                    const serviceData  = v.map(item=>{\n                        return {...item,serviceData:this.instance.computeRationCoord(item.serviceData,this.serviceDataType)}\n                    })\n                     console.log('ü§° ~~ serviceData', serviceData)\n                     this.instance.setServiceData(serviceData)\n                }\n            }\n        },\n        mounted(){\n            console.log('canvasÂàùÂßãÂåñ');\n            this.instance = new CanvasDraw('drawGrpahBox',{\n                algWidthAndHeight:this.algWidthAndHeight,\n                color:this.color,\n                rectData:[\n                    \n                ]\n            })\n        },\n    }\n<\/script>\n\n<style  scoped>\n#drawGrpahBox{\n    width: 100%;\n    height: 100%;\n    position: absolute;\n  top: 0;\n  left: 0;\n}\n</style>"]},media:void 0})}),v,"data-v-668b533e",false,undefined,!1,p,void 0,void 0),w=[m];console.log("ü§° ~~ components",...w);const y=e=>{y.installed||(y.installed=!0,w.forEach((t=>{console.log("ü§° ~~ component",t),e.component(t.name,t)})))};"undefined"!=typeof window&&window.Vue&&y(window.Vue);var A={install:y};export{a as CanvasDraw,m as DrawGraph,A as default};
