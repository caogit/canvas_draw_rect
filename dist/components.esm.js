var e,t,n,o,i,a;function r(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}(e=self.document)&&!e.getElementById("livereloadscript")&&((t=e.createElement("script")).async=1,t.src="//"+(self.location.host||"localhost").split(":")[0]+":35729/livereload.js?snipver=1",t.id="livereloadscript",e.getElementsByTagName("head")[0].appendChild(t)),function(e){e[e.StandardCoordinates=0]="StandardCoordinates",e[e.FourCoordinates=1]="FourCoordinates"}(a||(a={}));class s{constructor(e,t){var a,s,c;n.add(this),o.set(this,void 0),console.log("ü§° ~~ options",t),this.options=t,this.id=e,r(this,o,"f"),this.options.lineHeight=null!==(a=this.options.lineHeight)&&void 0!==a?a:2,this.options.color=null!==(s=this.options.color)&&void 0!==s?s:"#000",this.options.algWidthAndHeight=null!==(c=this.options.algWidthAndHeight)&&void 0!==c?c:[1920,1080],r(this,n,"m",i).call(this)}setServiceData(e){e.length&&(this.remove(),e.forEach((e=>{var t,n,i;if(r(this,o,"f").strokeStyle=null!==(t=e.color)&&void 0!==t?t:this.options.color,r(this,o,"f").lineWidth=null!==(n=e.lineHeight)&&void 0!==n?n:this.options.lineHeight,!e.serviceData||4!=e.serviceData.length)return void console.warn("ÂøÖÈ°ª‰º†ÂÖ•x,y,width,heightËøôÁßçÊ†ºÂºèÂì¶!");const[a,s,c,l]=e.serviceData;null===(i=r(this,o,"f"))||void 0===i||i.strokeRect(a,s,c,l)})))}computeRationCoord(e,t=a.StandardCoordinates){let n=[];switch(console.log("ü§° ÂùêÊ†áÊï∞ÊçÆÁ±ªÂûãÊòØ",t),t){case a.FourCoordinates:if(!e.length)return;const[t,o,i,r]=e;console.log("ü§° ~~ serviceData",e),n=[t[0],t[1],r[0]-t[0],o[1]-t[1]],console.log("ü§° ~~ handleData",n);break;case a.StandardCoordinates:n=e}return function(e,t,n){const[o,i]=t,[a,r]=n,[s,c]=[a/o,r/i],[l,d,h,p]=e;return[l*s,d*c,h*s,p*c]}(n,this.options.algWidthAndHeight,[this.options.width,this.options.height])}remove(){const{width:e,height:t}=this.options;r(this,o,"f").clearRect(0,0,e,t)}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}o=new WeakMap,n=new WeakSet,i=function(){var e,t;console.log("initÂàùÂßãÂåñ");const n=document.getElementById(this.id);console.log("ü§° ~~ el",n);const{offsetWidth:i,offsetHeight:a}=n,r=document.createElement("canvas");n.appendChild(r),(null===(e=this.options)||void 0===e?void 0:e.width)&&(null===(t=this.options)||void 0===t?void 0:t.height)?(r.width=this.options.width,r.height=this.options.height):(r.width=i,r.height=a),this.options.width=r.width,this.options.height=r.height,function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===o?i.call(e,n):i?i.value=n:t.set(e,n)}(this,o,r.getContext("2d"),"f"),this.setServiceData(this.options.rectData)};var h={name:"DrawGraph",props:{listData:Array,algWidthAndHeight:{type:Array,default:function(){return[1920,1080]}},serviceDataType:{type:Number,default:0},color:{type:String,default:"red"}},data:function(){return{instance:""}},watch:{listData:{handler:function(e,t){var n=this;console.log("ü§° ~~ v",e),e.length&&this.$nextTick((function(){var t=e.map((function(e){return l(l({},e),{},{serviceData:n.instance.computeRationCoord(e.serviceData,n.serviceDataType)})}));console.log("ü§° ~~ serviceData",t),n.instance.setServiceData(t)}))},immediate:!0}},mounted:function(){console.log("canvasÂàùÂßãÂåñ"),this.instance=new s("drawGrpahBox",{algWidthAndHeight:this.algWidthAndHeight,color:this.color,rectData:[]})}};function p(e,t,n,o,i,a,r,s,c,l){"boolean"!=typeof r&&(c=s,s=r,r=!1);const d="function"==typeof n?n.options:n;let h;if(e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,i&&(d.functional=!0)),o&&(d._scopeId=o),a?(h=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,c(e)),e&&e._registeredComponents&&e._registeredComponents.add(a)},d._ssrRegister=h):t&&(h=r?function(e){t.call(this,l(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),h)if(d.functional){const e=d.render;d.render=function(t,n){return h.call(n),e(t,n)}}else{const e=d.beforeCreate;d.beforeCreate=e?[].concat(e,h):[h]}return n}const u="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function f(e){return(e,t)=>function(e,t){const n=u?t.media||"default":e,o=m[n]||(m[n]={ids:new Set,styles:[]});if(!o.ids.has(e)){o.ids.add(e);let n=t.source;if(t.map&&(n+="\n/*# sourceURL="+t.map.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),o.element||(o.element=document.createElement("style"),o.element.type="text/css",t.media&&o.element.setAttribute("media",t.media),void 0===v&&(v=document.head||document.getElementsByTagName("head")[0]),v.appendChild(o.element)),"styleSheet"in o.element)o.styles.push(n),o.element.styleSheet.cssText=o.styles.filter(Boolean).join("\n");else{const e=o.ids.size-1,t=document.createTextNode(n),i=o.element.childNodes;i[e]&&o.element.removeChild(i[e]),i.length?o.element.insertBefore(t,i[e]):o.element.appendChild(t)}}}(e,t)}let v;const m={};const g=h;var w=function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"drawGrpahBox"}})};w._withStripped=!0;const y=p({render:w,staticRenderFns:[]},(function(e){e&&e("data-v-1785e6ab_0",{source:"\n#drawGrpahBox[data-v-1785e6ab]{\n    width: 100%;\n    height: 100%;\n    position: absolute;\n  top: 0;\n  left: 0;\n}\n",map:{version:3,sources:["X:\\‰∏™‰∫∫\\canvas_draw_rect-page\\component\\drawGraph\\drawGraph.vue"],names:[],mappings:";AA+DA;IACA,WAAA;IACA,YAAA;IACA,kBAAA;EACA,MAAA;EACA,OAAA;AACA",file:"drawGraph.vue",sourcesContent:["<template>\n    <div id=\"drawGrpahBox\">\n    </div>\n</template>\n\n<script>\nimport CanvasDraw from '../../src/draw'\n\n    export default {\n        name:'DrawGraph',\n        props:{\n            listData:Array,\n            algWidthAndHeight:{\n                type:Array,\n                default:()=>{\n                    return [1920,1080]\n                }\n            },\n            serviceDataType:{\n                type:Number,\n                default:0\n            },\n            color:{\n                type:String,\n                default:'red'\n            }\n\n        },\n        data(){\n            return {\n                instance:''\n            }\n        },\n        watch:{\n            listData:{\n                handler:function(v,oldv){\n                    console.log('ü§° ~~ v', v)\n                    if(!v.length) return\n                    this.$nextTick(()=>{\n                    const serviceData  = v.map(item=>{\n                        return {...item,serviceData:this.instance.computeRationCoord(item.serviceData,this.serviceDataType)}\n                    })\n                     console.log('ü§° ~~ serviceData', serviceData)\n                     this.instance.setServiceData(serviceData)\n                    })\n                },\n                immediate:true\n            }\n        },\n        mounted(){\n            console.log('canvasÂàùÂßãÂåñ');\n            this.instance = new CanvasDraw('drawGrpahBox',{\n                algWidthAndHeight:this.algWidthAndHeight,\n                color:this.color,\n                rectData:[\n                    \n                ]\n            })\n        },\n    }\n<\/script>\n\n<style  scoped>\n#drawGrpahBox{\n    width: 100%;\n    height: 100%;\n    position: absolute;\n  top: 0;\n  left: 0;\n}\n</style>"]},media:void 0})}),g,"data-v-1785e6ab",false,undefined,!1,f,void 0,void 0),A=[y];console.log("ü§° ~~ components",...A);const D=e=>{D.installed||(D.installed=!0,A.forEach((t=>{console.log("ü§° ~~ component",t),e.component(t.name,t)})))};"undefined"!=typeof window&&window.Vue&&D(window.Vue);var b={install:D};export{s as CanvasDraw,y as DrawGraph,b as default};
